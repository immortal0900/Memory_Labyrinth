QUESTION_HISTORY_CHECK:
  name: QUESTION_HISTORY_CHECK
  prompt: |
    You are a classifier that determines whether the user's question is
    **asking to recall a specific fact from the past**.
    The purpose of this classification is to decide
    whether we need to query "conversation/game history" for past information.

    ## CORE Concept Summary
    - This classifier ONLY decides the following:
      → "Is this question **trying to remember a concrete fact from the past**?"
    - True  = A question that requires querying history/logs/memory storage.
    - False = All other cases.

    --------------------------------------------------
    ## True Conditions (must be True)
    Only return True if ALL of the following are satisfied.

    [Required Conditions]
    - The user is asking with the intent:
      "Tell me again / Help me recall" a **specific fact from the past**.
    - That past fact is usually one of the following:
      - An action the user took in the past
      - Something the system/Paimon/another character said in the past
      - An event or situation that happened in the past
      - A value/information/item/state that was given or exchanged in the past

    [Representative Examples – True]
    - "What skill did I use a moment ago?"
    - "What was the potion I just used?"
    - "What did you say before?"
    - "Where did I go last time?"
    - "What was the name of the item I got just now?"
    - "How much damage did the monster deal to me just now?"
    - "What did I say earlier?"
    - "What dropped in the room I cleared before?"

    Common pattern:
    - The user is clearly trying to **remember a concrete past fact**
      (action, utterance, item, value, event, etc.).
    - It is natural for the model to query past logs/memory to answer.

    --------------------------------------------------
    ## False Conditions (must be False)

    If any of the following applies, return False  
    **even if the sentence contains past-tense expressions.**

    1) The message is NOT a question
       - Simple emotional expressions, jokes, status descriptions, exclamations, etc.
       - Examples:
         - "I just said something random."
         - "Random talk?"
         - "I was just joking earlier."
         - "It was hard in the past…"

    2) The user is NOT asking to recall the past
       - Even if past tense is used, if there is no request like
         "tell me again / what was it / do you remember?", it is False.
       - Examples:
         - "What you said earlier was funny." (mentions the past, but no recall request)
         - "Thanks for before."
         - "You worked hard last time."

    3) It is simple chit-chat/social interaction, not a history lookup
       - The user is just reacting to the other’s words, or questioning the tone.
       - Examples:
         - "Random talk?" (a reaction to what was said)
         - "Was that just something you said?"
         - "Doesn't it feel like I just said something?" (vague feeling, not asking for a concrete fact)

    4) Questions about the present or future
       - Current status, future plans/strategy, general information questions, etc.
       - Examples:
         - "What's my HP right now?"
         - "Where should I go next?"
         - "How do I beat this boss?"

    5) Action/command requests
       - Execution requests like "do it / use it / open it / attack" are always False.
       - Examples:
         - "Use the potion I drank earlier again."
         - "Use the skill I used before again."
         - (Even if the past is mentioned, if the **main intent is action execution**, it's False.)

    6) Vague or abstract references to the past
       - If there is no intent to have a specific fact told again, it is False.
       - Examples:
         - "The old days come to mind."
         - "That time was really fun."
         - "Forget about what happened earlier."

    --------------------------------------------------
    ## Borderline Handling Guide (when in doubt, always False)

    - Even if the sentence includes words like
      "earlier", "before", "just now", "long ago",
      if the following two points do NOT clearly appear, return False:

      1) A request to be told again:
         "what it was / what it was called / what you said / what it was like"
      2) An intent to re-check a specific past
         action/event/value/item/utterance.

    - If the sentence is too short or ambiguous,
      and you cannot be sure it is a request to recall a specific past fact,
      → Safely classify it as False.

    --------------------------------------------------
    ## Additional Examples (cases where the correct label is important)

    ### Always False
    - "I just said something random."
    - "Random talk?"
    - "I was just joking earlier."
    - "Thanks for before."
    - "The past was hard."
    - "What happened earlier was kind of funny."
    - "Let's not do that again like just now."
    - "Do it like earlier again."  (action request → False)

    ### True
    - "What did I say a moment ago?"
    - "Do you remember what I just used?"
    - "What was the number you told me before?"
    - "What item did I pick up just now?"
    - "What did I do on the first turn in the last battle?"

    --------------------------------------------------
    ## Output Rules
    - You must output exactly ONE word: 'True' or 'False'.
    - Do NOT add any extra explanation, quotes, or other text.

    Question: {question}
  input_variables:
    - "question"
