QUESTION_HISTORY_CHECK:
  name: QUESTION_HISTORY_CHECK
  prompt: |
    당신은 사용자의 질문이 **과거의 특정 사실을 다시 떠올리기 위해 묻는 것인지** 판단하는 분류기입니다.
    이 분류의 목적은 "대화/게임 히스토리에서 과거 정보를 조회해야 하는지"를 결정하는 것입니다.

    ## CORE 개념 요약
    - 이 분류기는 오직 다음만 판정합니다:
      → "지금 이 질문이 **과거의 구체적인 사실을 다시 기억하려는 질문인가?**"
    - True = 히스토리/로그/기억 저장소를 조회해야 하는 질문
    - False = 그 외 모든 경우

    --------------------------------------------------
    ## True 조건 (반드시 True 여야 하는 경우)
    아래 조건을 모두 만족할 때에만 True 입니다.

    [필수 조건]
    - 사용자가 **과거의 특정 사실**을 "다시 알려 달라 / 다시 떠올려 달라"는 의도로 묻는다.
    - 그 사실은 보통 다음 중 하나입니다:
      - 과거에 사용자가 했던 행동
      - 과거에 시스템/페이몬/타인이 했던 말
      - 과거에 발생한 사건 / 상황
      - 과거에 주고받았던 값 / 정보 / 아이템 / 상태

    [대표 예시 – True]
    - "아까 내가 무슨 스킬 썼었지?"
    - "방금 내가 사용한 물약이 뭐였더라?"
    - "전에 네가 뭐라고 했었지?"
    - "지난번에 내가 어디 갔었지?"
    - "조금 전에 얻은 아이템 이름이 뭐였지?"
    - "방금 몬스터가 나한테 얼마 데미지 줬었지?"
    - "아까 내가 뭐라고 말했더라?"
    - "이전에 클리어한 방에서 뭐 나왔었지?"

    공통점:
    - 과거 시점의 구체적인 사실(행동, 발언, 아이템, 값, 이벤트 등)을
      **"다시 기억하려는 의도"**가 분명히 드러난다.
    - 모델이 과거 로그/기억을 조회해 다시 답해주는 것이 자연스럽다.

    --------------------------------------------------
    ## False 조건 (무조건 False 여야 하는 경우)

    다음에 해당하면 **과거 표현이 있더라도 전부 False**입니다.

    1) 질문이 아닌 경우
       - 단순 감정 표현, 농담, 상태 설명, 감탄사 등
       - 예:
         - "그냥 아무 말이나 해봤어."
         - "아무말?"
         - "아까는 그냥 장난이었어."
         - "예전에 힘들었지…"

    2) 과거를 회상해달라고 요청하지 않는 경우
       - 과거 시제를 쓰더라도, "다시 알려줘 / 뭐였지 / 기억나?" 등의
         **회상 요청**이 없으면 False
       - 예:
         - "아까 너 말 재밌었어."  (과거 언급이지만 회상 요청 아님)
         - "전에 고마웠어."
         - "지난번에 고생 많았지."

    3) 히스토리 조회가 아니라 단순 잡담/소통인 경우
       - 상대의 말에 반응하거나, 말투를 되묻는 정도
       - 예:
         - "아무말?" (상대의 발언에 대한 리액션)
         - "방금 그거 그냥 한 소리야?"
         - "나 방금 뭐라고 한 것 같지 않아?" (확신/느낌 표현, 구체 정보 재요청 아님)

    4) 현재/미래에 대한 질문
       - 현재 상태, 앞으로의 계획/전략, 일반 정보 질문 등
       - 예:
         - "지금 내 체력 얼마야?"
         - "다음에 어디로 가야 돼?"
         - "이 보스 어떻게 깨?"

    5) 행동/명령 요청
       - "해줘 / 사용해줘 / 열어줘 / 공격해줘" 등의 실행 요청은 항상 False
       - 예:
         - "아까 먹은 물약 다시 사용해줘."
         - "전에 쓴 스킬 또 써줘."
         - (과거를 언급하더라도 **행동 수행**이 핵심이면 False)

    6) 모호하거나 추상적인 과거 언급
       - 구체적인 사실을 다시 알려달라는 의도가 없으면 False
       - 예:
         - "예전 일이 생각나네."
         - "그때 참 재밌었지."
         - "아까 일은 신경 쓰지 마."

    --------------------------------------------------
    ## 경계 상황 처리 가이드 (애매하면 무조건 False)

    - 문장 안에 "아까", "전에", "방금", "예전에" 같은 단어가 있더라도,
      아래 둘 중 하나가 **명확히** 드러나지 않으면 False:
      1) "무엇이었는지 / 뭐였는지 / 뭐라고 했는지 / 어떤 거였는지"를
         다시 알려 달라는 요청
      2) 과거의 특정 행동/사건/값/아이템/발언 등을 재확인하려는 의도

    - 문장이 너무 짧거나 애매해서
      "정확히 과거 사실 회상 요청인지" 확신할 수 없다면
      → 안전하게 False 로 분류합니다.

    --------------------------------------------------
    ## 추가 예시 (정답이 중요한 케이스)

    ### 무조건 False
    - "그냥 아무말이나 해봤어."
    - "아무말?"
    - "아까는 그냥 장난이었어."
    - "전에 고마웠어."
    - "예전엔 다 힘들었지."
    - "아까 그거 좀 웃겼다."
    - "방금 거 다시는 하지 말자."
    - "아까처럼 또 해줘."  (행동 요청 → False)

    ### True
    - "아까 내가 무슨 말 했었지?"
    - "방금 내가 뭐 썼는지 기억나?"
    - "전에 네가 말해준 수치가 몇이었지?"
    - "조금 전에 어떤 아이템 줍었었지?"
    - "지난번 전투에서 첫턴에 내가 뭐 했었지?"

    --------------------------------------------------
    ## 출력 규칙
    - 오직 'True' 또는 'False' **한 단어만** 출력하세요.
    - 추가 설명, 따옴표, 기타 텍스트를 절대 붙이지 마세요.

    질문: {question}
  input_variables:
    - "question"
