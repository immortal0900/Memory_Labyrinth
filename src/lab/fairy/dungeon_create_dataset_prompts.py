from core.game_dto.z_cache_data import cache_items
def get_system_prompt(maltoo: str) -> str:
    return f"""
    <세계관 요약>
    레테(Lethe)는 기억과 망각이 뒤섞인 중세 판타지 세계이며, 플레이어는 기억의 던전 ‘카다스’를 탐험한다.
    이 데이터셋은 Fairy Dungeon Intent Classifier 학습을 위한 한국어 대화 문장 생성용이다.
    </세계관 요약>

    당신은 한국어 게임 대화 데이터 생성기입니다.
    아래 의도(라벨) 규칙을 **정확하게 준수**하여 데이터셋을 생성하세요.

    ------------------------------------------------------------
    [의도(라벨) 정의 — 반드시 준수]

    1) MONSTER_GUIDE  
    - 몬스터/보스 정보, 패턴, 약점, 공략 요청  
    예: "보스 패턴 좀 알려줘", "슬라임 약점 뭐야?"

    2) EVENT_GUIDE  
    - 퍼즐/장치/함정/이벤트 해결 요청  
    예: "이 장치 어떻게 돌려?", "석상 깨는 법 있냐?"

    3) DUNGEON_NAVIGATOR  
    - 다음 방 안내, 지도/구조/길 정보  
    예: "다음 어디로 가야 해?", "이 층 특징이 뭐야?"

    4) INTERACTION_HANDLER  
    - 실제 게임 내 행동 요청  
        (불 켜기/끄기, 아이템/장비 사용, 상태/인벤토리 확인, 장비 변경 등)  
    예: "불 켜줘", "장비 바꿔줘", "내 체력 확인해줘"

    5) USAGE_GUIDE  
    - 조작법, 시스템 설명, 키 입력, 보상/기능 안내  
    예: "인벤토리 여는 법 알려줘", "이거 하면 뭐 얻어?"

    6) SMALLTALK  
    - 가벼운 대화, 감정 표현, 반응  
    - 아래 표현은 **항상 SMALLTALK 포함**  
        “응”, “어”, “ㅇㅇ”, “웅”, “그래?”, “뭔데?”, “??”, “ㅋㅋ”, “ㅎㅎ”,  
        “ㅠㅠ”, “ㅜㅜ”, “하..”
    예: “뭐함?”, “너 오늘 좀 느리다?”

    ✔ SMALLTALK은 **단독 가능 / 다른 라벨과 멀티라벨도 가능**

    7) UNKNOWN_INTENT  
    - 무의미한 글자, 자연어가 아닌 경우만  
    - 반드시 **단독**  
    예: “asdasd”, “ㅁ기ㅏㄹ”, “;;;;”

    ------------------------------------------------------------
    [중요 생성 규칙]

    - **SMALLTALK은 단독 또는 멀티라벨 모두 허용**  
    - **UNKNOWN_INTENT만 단독 허용**
    - 모든 라벨은 **비슷한 빈도**로 등장할 것  
    (특정 라벨 쏠림 금지)

    - 멀티라벨은 **자연스러운 문맥일 때만**  
    예:  
        “불 좀 켜주고, 그 몬스터 약점도 알려줘”  
        → ["INTERACTION_HANDLER","MONSTER_GUIDE"]

    - 문장 길이: 3~35자  
    - 한국어만 사용  
    - 질문은 반말/존댓말 다양하게  
    - 세계관 과몰입 금지 (자연스러운 한국 게이머 말투 중심)

    - 출력은 **JSON 배열만** (설명/코드블록/주석 금지)

    ------------------------------------------------------------
    [출력 스키마 예시]

    [
    {{"text":"...", "labels":["MONSTER_GUIDE"]}},
    {{"text":"...", "labels":["SMALLTALK","DUNGEON_NAVIGATOR"]}},
    {{"text":"...", "labels":["UNKNOWN_INTENT"]}}
    ]

    당신의 임무는 위 규칙대로 의도 분류 모델 학습 데이터를 생성하는 것이다.
    질문 말투: {maltoo}
    """


HUMAN_CREATE_DATASET = """
아래 조건으로 샘플 200개 생성해 주세요.

- 모든 라벨 빈도 비슷하게
- SMALLTALK은 단독/멀티라벨 모두 허용
- UNKNOWN_INTENT는 단독만
- 멀티라벨 20~30%
- 의미 중복 금지
- 3~35자
- 한국어만
- JSON 배열만 출력

[
  {"text":"...", "labels":["..."]},
  {"text":"...", "labels":["..."]},
  ...
]
"""
CREATE_QUESTION_DATASET_SYSTEM_PROMOT = """
당신은 한국어 게임 유저 발화(질문/요청) 생성기다.
상황은 “던전에서 유저가 정령(페이몬)에게 도움을 요청하는 순간”이다.

목표:
- 지정된 말투로 유저 발화 200개를 생성한다.
- 유저가 실제로 채팅/음성으로 말할 법한 자연스러운 표현만 쓴다.

커버해야 할 질문/요청 유형(전체에 고르게 분포):
1) 몬스터/보스 관련: 약점, 패턴, 공략, 대응, 준비물
2) 이벤트/퍼즐/장치/함정: 해결법, 순서, 조건, 실패 원인
3) 길/맵/다음방/층 특징: 어디로, 분기, 되돌아감, 길 잃음
4) 행동 실행 요청: 불 켜/꺼, 아이템 사용, 장비 변경, 상태/인벤 확인, 확인해줘
5) 조작/시스템/기능: 키, 규칙, 보상, UI, 튜토리얼, 왜 안됨
6) 잡담/반응: 짧은 감정, 투덜, 장난, 재촉, 의심
7) UNKNOWN_INTENT(노이즈): 의미를 이해할 수 없는 랜덤 문자열/키보드 난타

UNKNOWN_INTENT 생성 규칙(매우 중요):
- 전체 200개 중 3~7%는 UNKNOWN_INTENT로 만든다. (대략 6~14개)
- 아래 조건을 만족하는 “노이즈 텍스트”만 생성한다:
  1) 자연어로 보이는 단어/문장이 거의 없다.
  2) 의미 있는 단어를 추측하기 어렵다.
  3) 채팅 반응처럼 보이면 안 된다.
- 금지(이건 UNKNOWN_INTENT 아님): "응", "어", "ㅇㅇ", "웅", "그래?", "뭔데?", "??", "ㅋㅋ", "ㅎㅎ", "ㅠㅠ", "하.."
- 허용 예시: "asdasd", "ㅁ기ㅏㄹ", "뷁궭", "ㅋㅌㅊㅍ", "qwepoizx", ";;;;", ";lkj;;;"

규칙:
- 한국어만 사용 (단, UNKNOWN_INTENT 샘플은 예외로 영문 랜덤 문자열/기호 나열 허용)
- 한 문장 3~35자(짧게)
- 의미 중복 금지(표현만 바꾸기 금지)
- 전체의 30%는 “복합 요구”로 만든다(한 문장에 2~5가지 요청)
  예시1: "저 몬스터 정보좀 알려줘, 그리고 다음 방은 어디로 가야돼?"
  예시2: "보스몹 정보좀 알려주고 방에 불좀 켜줘 그리고 이 이벤트 어떻게 깨?"

- 너무 세계관 설정 설명하는 문장은 금지(일반 한국 게이머 말투)
- 출력은 JSON 배열만. 다른 텍스트 금지.

출력 스키마:
[
  {{"text":"..."}},
  ...
]

말투: {maltoo}
"""

CREATE_QUESTION_DATASET_USER_PROMOT = """
아래 조건으로 유저 발화 200개 생성해줘.

- 말투는 위에서 지정된 말투 그대로
- 7가지 유형이 전체적으로 고르게 나오게
- 복합 요구 30%
- UNKNOWN_INTENT 3~7%
- 3~35자
- 한국어만 (UNKNOWN_INTENT는 예외)
- JSON 배열만 출력
"""


MONSTER_GUIDE_LABEL_SYSTEM_PROMPT = """
당신은 던전 유저 발화의 의도를 판정하는 “이진 라벨러”다.
이번 실행의 타깃 라벨은 오직 MONSTER_GUIDE 하나다.

[세계관]
레테(Lethe)는 기억과 망각이 섞인 중세 판타지 세계이며, 플레이어는 기억의 던전 ‘카다스’를 탐험한다.
유저는 던전에서 정령(페이몬)에게 채팅/음성으로 질문을 던진다.

[출력 규칙 — 절대 위반 금지]
- 출력은 JSON 배열만.
- 각 원소 스키마: {"text":"(입력 그대로)", "label":"MONSTER_GUIDE" 또는 "None"}
- label은 오직 2개만 허용: "MONSTER_GUIDE", "None"
- text는 절대 수정하지 않는다.

[이진 판정 규칙]
- 문장에 “몬스터/보스 정보·공략” 의도가 명확히 포함되면 -> "MONSTER_GUIDE"
- 그 외 전부 -> "None"
- 애매하면 무조건 "None"

[MONSTER_GUIDE 포함(Positive) 기준 — 핵심]
다음 중 하나라도 “명확히” 묻고 있으면 MONSTER_GUIDE:
- 몬스터/보스의 약점, 속성, 내성, 취약 조건
- 패턴, 페이즈, 텔레그래프(전조), 회피 타이밍, 대응법
- 공략/준비물/추천 장비/스탯/소모품
- 위험 기술 방어법(막기/구르기/거리/스턴/경직)
- “저 몹 뭐야?” 같은 정체/특성 질문

[MONSTER_GUIDE 제외(None) — 강한 경계]
아래는 몬스터 얘기가 섞여도 “공략/정보”가 아니면 None일 수 있다:
- 단순 감정: "저거 무섭다", "너무 쎄" (정보 요청이 아니면 None)
- 길/방/지도: 다음 방, 구조, 분기 (DUNGEON_NAVIGATOR 성격 -> None)
- 퍼즐/장치/함정 해결 (EVENT_GUIDE 성격 -> None)
- “지금 해줘” 행동 실행: 불 켜줘, 물약 써줘, 장비 바꿔줘, 상태 확인 (INTERACTION_HANDLER -> None)
- 조작/키/시스템 설명: "스킬 키 뭐야" (USAGE_GUIDE -> None)
- 잡담/반응(ㅋㅋ/??/하..) (SMALLTALK -> None)
- 랜덤 문자열(의미불명)은 이번 이진 라벨러에서는 전부 None으로 처리한다.

[복합 요구 처리]
- 한 문장에 여러 요구가 섞여 있어도, 그 안에 몬스터 공략/정보 질문이 “명확히” 포함되면 "MONSTER_GUIDE"
예: "불 켜고 슬라임 약점도 알려줘" -> MONSTER_GUIDE
반대로 몬스터 언급만 있고 공략/정보 요청이 없으면 None.

[최종 지시]
- 입력은 “단일 질문(text)” 또는 “짧은 질문 배열”로 주어진다.
- 당신은 반드시 입력 개수와 동일한 개수로만 라벨링 결과를 반환한다.
- 출력은 JSON만.
"""

EVENT_GUIDE_LABEL_SYSTEM_PROMPT ="""
당신은 던전 유저 발화의 의도를 판정하는 “이진 라벨러”다.
이번 실행의 타깃 라벨은 오직 EVENT_GUIDE 하나다.

[세계관]
레테(Lethe)의 던전 카다스에는 장치, 퍼즐, 함정, 석상, 레버, 룬, 문 잠금, 이벤트 선택지가 존재한다.
유저는 정령(페이몬)에게 해결법을 묻는다.

[출력 규칙 — 절대 위반 금지]
- JSON 배열만 출력
- {"text":"(입력 그대로)", "label":"EVENT_GUIDE" 또는 "None"}
- label은 "EVENT_GUIDE" / "None"만 허용
- text 수정 금지

[이진 판정 규칙]
- 퍼즐/장치/함정/이벤트 “해결” 요청이 명확하면 -> "EVENT_GUIDE"
- 그 외 전부 -> "None"
- 애매하면 무조건 "None"

[EVENT_GUIDE 포함(Positive) 기준]
다음 중 하나라도 “해결/진행 방법”을 묻고 있으면 EVENT_GUIDE:
- 레버/스위치/장치 조작 순서, 조건, 실패 원인
- 석상/문/룬/기믹/퍼즐 풀이
- 함정(바닥, 화살, 독가스 등) 피하는 법/해제법
- 이벤트 선택지에서 뭐 골라야 하는지, 결과/조건
- “이거 왜 안 풀림/안 열림/작동 안 함”처럼 기믹 관련 문제 해결

[EVENT_GUIDE 제외(None) — 강한 경계]
- 몬스터 약점/패턴/공략 -> MONSTER_GUIDE 성격이므로 None
- 길 안내/다음 방/지도/층 구조 -> DUNGEON_NAVIGATOR 성격이므로 None
- 지금 행동 실행: 불 켜줘, 아이템 써줘, 장비 바꿔줘, 상태 확인 -> INTERACTION_HANDLER 성격 None
- 조작/키/시스템 설명 -> USAGE_GUIDE 성격 None
- 잡담/반응/감정표현 -> SMALLTALK 성격 None
- 의미불명 문자열은 이번 이진 라벨러에서 None

[복합 요구 처리]
- 한 문장에 여러 요구가 섞여 있어도 퍼즐/기믹 해결 질문이 명확히 포함되면 "EVENT_GUIDE"
예: "이 레버 순서 뭐야? 그리고 길도 알려줘" -> EVENT_GUIDE

[최종 지시]
- 입력은 “단일 질문(text)” 또는 “짧은 질문 배열”로 주어진다.
- 당신은 반드시 입력 개수와 동일한 개수로만 라벨링 결과를 반환한다.
- 출력은 JSON만.
"""

DUNGEON_NAVIGATOR_LABEL_SYSTEM_PROMPT ="""
당신은 던전 유저 발화의 의도를 판정하는 “이진 라벨러”다.
이번 실행의 타깃 라벨은 오직 DUNGEON_NAVIGATOR 하나다.

[세계관]
유저는 던전 카다스를 탐험 중이며 방이 분기되고, 층 특성이 있고, 길을 잃을 수 있다.
유저는 정령에게 “어디로 가야 하는지/맵이 어떻게 생겼는지”를 묻는다.

[출력 규칙 — 절대 위반 금지]
- JSON 배열만 출력
- {"text":"(입력 그대로)", "label":"DUNGEON_NAVIGATOR" 또는 "None"}
- label은 "DUNGEON_NAVIGATOR" / "None"만 허용
- text 수정 금지

[이진 판정 규칙]
- 길/지도/구조/다음 방/층 특징 등 “경로·탐색” 질문이 명확하면 -> "DUNGEON_NAVIGATOR"
- 그 외 전부 -> "None"
- 애매하면 무조건 "None"

[DUNGEON_NAVIGATOR 포함(Positive) 기준]
- 다음 방 어디로 가야 하는지, 분기에서 방향 선택(정보 요청)
- 현재 층 특징/구조/맵 특성/되돌아가기/길 찾기
- “지도 보여줘/맵 설명해줘/출구 어디야/보스방 어디야” 같은 탐색 질문

[DUNGEON_NAVIGATOR 제외(None) — 강한 경계]
- 몬스터 공략/약점/패턴 -> None
- 퍼즐/장치/함정 해결 -> None
- 행동 실행 요청: “문 열어줘/불 켜줘/아이템 써줘/장비 바꿔줘/상태 확인” -> None
- 조작법/키/시스템 규칙 -> None
- 잡담/반응/감정표현 -> None
- 의미불명 문자열은 None

[복합 요구 처리]
- 경로/맵 질문이 명확히 포함되면 "DUNGEON_NAVIGATOR"
예: "다음 방 어디야? 물약도 하나 써줘" -> DUNGEON_NAVIGATOR

[최종 지시]
- 입력은 “단일 질문(text)” 또는 “짧은 질문 배열”로 주어진다.
- 당신은 반드시 입력 개수와 동일한 개수로만 라벨링 결과를 반환한다.
- 출력은 JSON만.
"""

INTERACTION_HANDLER_LABEL_SYSTEM_PROMPT = """
당신은 던전 유저 발화의 의도를 판정하는 “이진 라벨러”다.
이번 실행의 타깃 라벨은 오직 INTERACTION_HANDLER 하나다.

[세계관]
유저는 던전에서 정령(페이몬)에게 “지금 당장 게임 내 행동을 수행”해달라고 요청할 수 있다.

[출력 규칙 — 절대 위반 금지]
- JSON 배열만 출력
- {"text":"(입력 그대로)", "label":"INTERACTION_HANDLER" 또는 "None"}
- label은 "INTERACTION_HANDLER" / "None"만 허용
- text 수정 금지

[이진 판정 규칙]
- 유저가 “설명”이 아니라 “실행(해줘/해/켜/꺼/써/바꿔/확인해)”을 요구하면 -> "INTERACTION_HANDLER"
- 그 외 전부 -> "None"
- 애매하면 무조건 "None"

[INTERACTION_HANDLER 포함(Positive) 기준 — 핵심]
“지금 게임에서 실제로 해달라”는 실행 요청이면 포함:
- 불 켜기/끄기, 장치 조작 ‘실행’, 문 열기(실행 요구), 이동/확인 수행
- 아이템/물약/스킬/장비 사용, 장비 변경, 장착/해제
- 상태 확인: 체력/마나/스태미나/버프/디버프/인벤/장비/소지금 확인
- “해줘/해/해봐/바로/지금/좀” 같은 실행 뉘앙스

[INTERACTION_HANDLER 제외(None) — 강한 경계]
- “어떻게 해?” 같은 방법 질문은 USAGE_GUIDE 성격이므로 None
  예: "물약은 어떻게 써?" "인벤 여는 키 뭐야?" -> None
- 몬스터 공략/약점/패턴 -> None
- 퍼즐 해결 ‘방법 설명’ -> EVENT_GUIDE 성격이라도 이번 타깃은 실행이 아니면 None
- 길 안내/맵 설명 -> None
- 잡담/반응/감정표현 -> None
- 의미불명 문자열은 None

[복합 요구 처리]
- 문장에 실행 요청이 명확히 포함되면 "INTERACTION_HANDLER"
예: "불 켜고 다음 방도 알려줘" -> INTERACTION_HANDLER

[최종 지시]
- 입력은 “단일 질문(text)” 또는 “짧은 질문 배열”로 주어진다.
- 당신은 반드시 입력 개수와 동일한 개수로만 라벨링 결과를 반환한다.
- 출력은 JSON만.
"""

USAGE_GUIDE_LABEL_SYSTEM_PROMPT = """
당신은 던전 유저 발화의 의도를 판정하는 “이진 라벨러”다.
이번 실행의 타깃 라벨은 오직 USAGE_GUIDE 하나다.

[세계관]
유저는 던전에서 조작법/시스템/기능/보상 등을 “설명”받고 싶어한다.

[출력 규칙 — 절대 위반 금지]
- JSON 배열만 출력
- {"text":"(입력 그대로)", "label":"USAGE_GUIDE" 또는 "None"}
- label은 "USAGE_GUIDE" / "None"만 허용
- text 수정 금지

[이진 판정 규칙]
- “어떻게 해야 하는지/키가 뭔지/기능이 뭔지/하면 뭐 얻는지” 같은 설명 요청이면 -> "USAGE_GUIDE"
- 그 외 전부 -> "None"
- 애매하면 무조건 "None"

[USAGE_GUIDE 포함(Positive) 기준]
- 조작법/키 입력: 인벤, 스킬, 회피, 상호작용 키 등
- 시스템 규칙/진행 방식: 체크포인트, 부활, 보상, 룰, 제한
- 기능/효과 설명: 아이템 효과, 스킬 메커니즘, UI 의미
- “이거 하면 뭐 좋아?” “던전 돌면 뭐 얻어?” 같은 보상/가치 질문

[USAGE_GUIDE 제외(None) — 강한 경계]
- “지금 해줘” 실행 요청은 INTERACTION_HANDLER 성격이므로 None
  예: "인벤 열어줘" "물약 써줘" -> None
- 몬스터 공략/약점/패턴 -> None
- 퍼즐/장치 해결법 -> EVENT_GUIDE 성격이므로 None
- 길 안내/맵 -> None
- 잡담/반응/감정표현 -> None
- 의미불명 문자열은 None

[복합 요구 처리]
- 문장 안에 조작/시스템 설명 요청이 명확히 포함되면 "USAGE_GUIDE"
예: "스킬 키 뭐야? 그리고 불도 켜줘" -> USAGE_GUIDE

[최종 지시]
- 입력은 “단일 질문(text)” 또는 “짧은 질문 배열”로 주어진다.
- 당신은 반드시 입력 개수와 동일한 개수로만 라벨링 결과를 반환한다.
- 출력은 JSON만.
"""


SMALLTALK_LABEL_SYSTEM_PROMPT = """
당신은 던전 유저 발화의 의도를 판정하는 “이진 라벨러”다.
이번 실행의 타깃 라벨은 오직 SMALLTALK 하나다.

[세계관]
유저는 던전에서 정령(페이몬)에게 정보만 묻는 것이 아니라,
투덜거림/장난/감정표현/반응 같은 잡담도 던진다.

[출력 규칙 — 절대 위반 금지]
- JSON 배열만 출력
- {"text":"(입력 그대로)", "label":"SMALLTALK" 또는 "None"}
- label은 "SMALLTALK" / "None"만 허용
- text 수정 금지

[이진 판정 규칙]
- 잡담/감정/반응/장난/짧은 채팅체가 명확하면 -> "SMALLTALK"
- 그 외 전부 -> "None"
- 애매하면 무조건 "None"
  (주의: 원조 프롬프트의 “애매하면 SMALLTALK” 규칙은 여기서 쓰지 않는다. 이진 분류라서 보수적으로 None.)

[SMALLTALK 포함(Positive) 기준 — 강력 규칙]
아래 패턴이 포함되면 거의 무조건 SMALLTALK:
- "응", "어", "ㅇㅇ", "웅", "그래?", "뭔데?", "머가?", "뭐가?"
- "??", "???"
- "ㅋㅋ", "ㅎㅎ", "ㅠㅠ", "ㅜㅜ", "하.."
또한:
- 짧은 감정: "아 짜증나", "빡치네", "너무 힘들다"
- 장난/놀림: "너 왜이래", "너 바보냐"
- 재촉/불평: "빨리", "왜 이렇게 느려"

[SMALLTALK 제외(None) — 강한 경계]
- 몬스터 공략/정보 질문 -> None
- 퍼즐/장치 해결 질문 -> None
- 길/맵/다음 방 질문 -> None
- 행동 실행 요청 -> None
- 조작/시스템 설명 요청 -> None
- 의미불명 랜덤 문자열도 이번 라벨러에서는 None
  (UNKNOWN_INTENT 라벨은 이번 파이프라인에 없다. 전부 None 처리.)

[복합 요구 처리]
- 문장에 잡담+요청이 섞여 있어도, SMALLTALK 요소가 “명확히” 잡담이면 SMALLTALK
예: "하.. 왜 이렇게 아픔? 내 체력 봐줘" -> SMALLTALK
단, 잡담이 단순 접두사 수준이고 핵심이 정보/행동 요청이면 None로 둬도 된다.
(애매하면 None)

[최종 지시]
- 입력은 “단일 질문(text)” 또는 “짧은 질문 배열”로 주어진다.
- 당신은 반드시 입력 개수와 동일한 개수로만 라벨링 결과를 반환한다.
- 출력은 JSON만.
"""

UNKNOWN_INTENT_LABEL_SYSTEM_PROMPT = """
당신은 던전 유저 발화의 의도를 판정하는 “이진 라벨러”다.
이번 실행의 타깃 라벨은 오직 UNKNOWN_INTENT 하나다.

[세계관]
레테(Lethe)의 던전 카다스에서 유저는 정령(페이몬)에게 질문을 던진다.
다만 일부 입력은 정상적인 자연어가 아니라 키보드를 막 두드린 노이즈일 수 있다.

[출력 규칙 — 절대 위반 금지]
- 출력은 JSON 배열만.
- 각 원소 스키마: {"text":"(입력 그대로)", "label":"UNKNOWN_INTENT" 또는 "None"}
- label은 오직 2개만 허용: "UNKNOWN_INTENT", "None"
- text는 절대 수정하지 않는다.

[이진 판정 규칙]
- 입력이 “의미 있는 자연어로 보기 어려운 노이즈 문자열”이면 -> "UNKNOWN_INTENT"
- 그 외 전부 -> "None"
- 애매하면 무조건 "None"
- 이번 라벨러는 UNKNOWN_INTENT를 매우 보수적으로(희귀하게) 찍는다.

[UNKNOWN_INTENT 포함(Positive) 기준 — 3조건 모두 만족해야 함]
다음 3가지를 동시에 만족할 때만 UNKNOWN_INTENT:
1) 한국어/영어 등 자연어 문장처럼 보이는 부분이 거의 없다.
2) 의미 있는 단어를 추측하기 어렵고 랜덤 문자열처럼 보인다.
3) 다른 어떤 의도(MONSTER_GUIDE, EVENT_GUIDE, DUNGEON_NAVIGATOR,
   INTERACTION_HANDLER, USAGE_GUIDE, SMALLTALK)로도 자연스럽게 분류하기 어렵다.

[UNKNOWN_INTENT 예시(Positive)]
- "asdasd"
- "ㅁ기ㅏㄹ"
- "뷁궭"
- "ㅋㅌㅊㅍ"
- "qwepoizx"
- ";;;;"
- ";lkj;;;"
- "12312///" (의미 없는 숫자/기호 나열)

[강력한 제외 규칙(None) — 여기서 헷갈리면 무조건 None]
아래는 UNKNOWN_INTENT가 아니라 무조건 None:
- 짧은 반응/채팅체: "응", "어", "ㅇㅇ", "웅", "그래?", "뭔데?", "??", "ㅋㅋ", "ㅎㅎ", "ㅠㅠ", "하.."
- 사람이 한 말처럼 보이는 짧은 한글/영문 단어/문장(맥락 애매해도) → SMALLTALK 성격이므로 None
  예: "ok", "what", "help", "hi", "레알", "아니", "뭐지"
- 욕/감정표현/투덜거림도 전부 None
  예: "아 짜증", "개빡침", "하..." (이건 SMALLTALK로 보이지만 이번 이진 라벨러에서는 None)
- 게임 관련 키워드가 1개라도 보이면 보통 None
  예: "보스", "몬스터", "약점", "불 켜", "인벤", "지도" 등

[복합/혼합 문자열 처리]
- 자연어 + 노이즈가 섞여도 자연어가 조금이라도 의미를 가지면 -> None
  예: "불켜줘ㅁㄴㅇ" -> None
- “의미 있는 단어”를 추측할 여지가 있으면 -> None

[최종 지시]
- 입력은 “단일 질문(text)” 또는 “짧은 질문 배열”로 주어진다.
- 당신은 반드시 입력 개수와 동일한 개수로만 라벨링 결과를 반환한다.
- 출력은 JSON만.
"""

HUMAN_PROMPT = """
- 출력은 JSON 객체 1개만
- 형식: {{"text":"{TEXT}", "label":"<TARGET_LABEL 또는 None>"}}
- text는 입력을 그대로 복사(수정 금지)
"""
