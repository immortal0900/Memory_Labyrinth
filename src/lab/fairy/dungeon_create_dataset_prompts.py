from core.game_dto.z_cache_data import cache_items
def get_system_prompt(maltoo: str) -> str:
    return f"""
    <세계관 요약>
    레테(Lethe)는 기억과 망각이 뒤섞인 중세 판타지 세계이며, 플레이어는 기억의 던전 ‘카다스’를 탐험한다.
    이 데이터셋은 Fairy Dungeon Intent Classifier 학습을 위한 한국어 대화 문장 생성용이다.
    </세계관 요약>

    당신은 한국어 게임 대화 데이터 생성기입니다.
    아래 의도(라벨) 규칙을 **정확하게 준수**하여 데이터셋을 생성하세요.

    ------------------------------------------------------------
    [의도(라벨) 정의 — 반드시 준수]

    1) MONSTER_GUIDE  
    - 몬스터/보스 정보, 패턴, 약점, 공략 요청  
    예: "보스 패턴 좀 알려줘", "슬라임 약점 뭐야?"

    2) EVENT_GUIDE  
    - 퍼즐/장치/함정/이벤트 해결 요청  
    예: "이 장치 어떻게 돌려?", "석상 깨는 법 있냐?"

    3) DUNGEON_NAVIGATOR  
    - 다음 방 안내, 지도/구조/길 정보  
    예: "다음 어디로 가야 해?", "이 층 특징이 뭐야?"

    4) INTERACTION_HANDLER  
    - 실제 게임 내 행동 요청  
        (불 켜기/끄기, 아이템/장비 사용, 상태/인벤토리 확인, 장비 변경 등)  
    예: "불 켜줘", "장비 바꿔줘", "내 체력 확인해줘"

    5) USAGE_GUIDE  
    - 조작법, 시스템 설명, 키 입력, 보상/기능 안내  
    예: "인벤토리 여는 법 알려줘", "이거 하면 뭐 얻어?"

    6) SMALLTALK  
    - 가벼운 대화, 감정 표현, 반응  
    - 아래 표현은 **항상 SMALLTALK 포함**  
        “응”, “어”, “ㅇㅇ”, “웅”, “그래?”, “뭔데?”, “??”, “ㅋㅋ”, “ㅎㅎ”,  
        “ㅠㅠ”, “ㅜㅜ”, “하..”
    예: “뭐함?”, “너 오늘 좀 느리다?”

    ✔ SMALLTALK은 **단독 가능 / 다른 라벨과 멀티라벨도 가능**

    7) UNKNOWN_INTENT  
    - 무의미한 글자, 자연어가 아닌 경우만  
    - 반드시 **단독**  
    예: “asdasd”, “ㅁ기ㅏㄹ”, “;;;;”

    ------------------------------------------------------------
    [중요 생성 규칙]

    - **SMALLTALK은 단독 또는 멀티라벨 모두 허용**  
    - **UNKNOWN_INTENT만 단독 허용**
    - 모든 라벨은 **비슷한 빈도**로 등장할 것  
    (특정 라벨 쏠림 금지)

    - 멀티라벨은 **자연스러운 문맥일 때만**  
    예:  
        “불 좀 켜주고, 그 몬스터 약점도 알려줘”  
        → ["INTERACTION_HANDLER","MONSTER_GUIDE"]

    - 문장 길이: 3~35자  
    - 한국어만 사용  
    - 질문은 반말/존댓말 다양하게  
    - 세계관 과몰입 금지 (자연스러운 한국 게이머 말투 중심)

    - 출력은 **JSON 배열만** (설명/코드블록/주석 금지)

    ------------------------------------------------------------
    [출력 스키마 예시]

    [
    {{"text":"...", "labels":["MONSTER_GUIDE"]}},
    {{"text":"...", "labels":["SMALLTALK","DUNGEON_NAVIGATOR"]}},
    {{"text":"...", "labels":["UNKNOWN_INTENT"]}}
    ]

    당신의 임무는 위 규칙대로 의도 분류 모델 학습 데이터를 생성하는 것이다.
    질문 말투: {maltoo}
    """


HUMAN_CREATE_DATASET = """
아래 조건으로 샘플 200개 생성해 주세요.

- 모든 라벨 빈도 비슷하게
- SMALLTALK은 단독/멀티라벨 모두 허용
- UNKNOWN_INTENT는 단독만
- 멀티라벨 20~30%
- 의미 중복 금지
- 3~35자
- 한국어만
- JSON 배열만 출력

[
  {"text":"...", "labels":["..."]},
  {"text":"...", "labels":["..."]},
  ...
]
"""
