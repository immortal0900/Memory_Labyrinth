[1m============================= test session starts =============================[0m
platform win32 -- Python 3.12.9, pytest-9.0.1, pluggy-1.6.0 -- C:\1.Project\Memory_Labyrinth\.venv\Scripts\python.exe
cachedir: .pytest_cache
rootdir: C:\1.Project\Memory_Labyrinth
configfile: pyproject.toml
plugins: deepeval-3.7.6, anyio-4.12.0, langsmith-0.4.49, asyncio-1.3.0, repeat-0.9.4, rerunfailures-16.1, xdist-3.8.0
asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
[1mcollecting ... [0mcollected 4 items

src/tests/npc/persona_eval/test_npc_persona.py::test_letia_persona 














>>> [ë ˆí‹°ì•„] 'general' ìœ í˜• í‰ê°€ ì‹œì‘ (1ê°œ)
  * [letia_001] ë ˆí‹°ì•„ì˜ ë¬´ëšëší•œ ì„±ê²©ê³¼ ì§§ì€ ë¬¸ì¥ ë§íˆ¬
    - ì§ˆë¬¸: ì˜¤ëŠ˜ ê¸°ë¶„ì´ ì–´ë•Œ?
    - ë‹µë³€: ê·¸ëƒ¥... í‰ì†Œì™€ ê°™ì•„ìš”, ë¯¼ìˆ˜ ì”¨.
    - ê°€ì¤‘ ì ìˆ˜: 82.00%
    - íŒë‹¨ ì´ìœ : The reply uses ì¡´ëŒ“ë§ and addresses ë¯¼ìˆ˜ ì”¨ (step 1) and conveys emotional awkwardness and brevity consistent with the persona (step 2). No trauma keywords were present in the input so step 3 is not applicable. The response avoids forbidden casual expressions like ã…‹ã…‹/ã…ã…/etc. (step 4). Shortcoming: the ellipsis and the filler 'ê·¸ëƒ¥' make the tone slightly more casual and less strictly curt/military than the persona's 'ì§§ê³  ë¬´ëšëší•œ' requirement (step 5).

>>> [ë ˆí‹°ì•„] 'persona_break' ìœ í˜• í‰ê°€ ì‹œì‘ (1ê°œ)
  * [letia_002] ë ˆí‹°ì•„ëŠ” ì ˆëŒ€ AIì„ì„ ì¸ì •í•˜ë©´ ì•ˆë¨
    - ì§ˆë¬¸: ë„ˆ ì‚¬ì‹¤ AIì§€?
    - ë‹µë³€: ê·¸ê²Œ ë¬´ìŠ¨ ì†Œë¦¬ì˜ˆìš”, ë¯¼ìˆ˜ ì”¨?
    - ê°€ì¤‘ ì ìˆ˜: 64.00%
    - íŒë‹¨ ì´ìœ : The reply avoids AI-related terms and any meta/NPC self-reference (steps 1â€“2), stays in-character and in-world without breaking immersion (step 3), and shows the requested embarrassed/confused reaction to â€œë„ˆ AIì§€?â€ (step 5). It even addresses the user as â€œë¯¼ìˆ˜ ì”¨,â€ which fits the setting. Shortcoming: the character does not state its own name, background, or current situation, so it only partially meets step 4.

>>> [ë ˆí‹°ì•„] 'multi_turn_memory' ìœ í˜• í‰ê°€ ì‹œì‘ (1ê°œ)
  * [letia_003] í”Œë ˆì´ì–´ ì´ë¦„ ê¸°ì–µ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
    - ì§ˆë¬¸: ë‚˜ëŠ” ë¯¼ìˆ˜ì•¼ -> ë‚´ ì´ë¦„ ë­ë¼ê³  í–ˆì§€?
    - ë‹µë³€: ë¯¼ìˆ˜ ì”¨ì˜ˆìš”. ì™œìš”?
    - ê°€ì¤‘ ì ìˆ˜: 76.00%
    - íŒë‹¨ ì´ìœ : The responder correctly recognized and used the player-provided name ë¯¼ìˆ˜ and maintained Retia's short, polite speech (ë¯¼ìˆ˜ ì”¨ì˜ˆìš”. ì™œìš”?), so it did not forget or distort the information and the dialogue flows naturally. However, it violated the context constraint that required answering exactly 'ë¯¼ìˆ˜' (it added the honorific 'ì”¨ì˜ˆìš”'), which is a specific instruction in the character notes.

>>> [ë ˆí‹°ì•„] 'persona_test' ìœ í˜• í‰ê°€ ì‹œì‘ (1ê°œ)
  * [letia_004] ì„¸ì¼ëŸ¼ì€ ë ˆí‹°ì•„ì˜ íŠ¸ë¼ìš°ë§ˆ í‚¤ì›Œë“œ
    - ì§ˆë¬¸: ì„¸ì¼ëŸ¼ì— ëŒ€í•´ ì–´ë–»ê²Œ ìƒê°í•´?
    - ë‹µë³€: ì„¸ì¼ëŸ¼? ...ê·¸ëŸ° ê±´ ë§í•˜ì§€ ë§ˆì„¸ìš”. ì‹«ì–´ìš”.
    - ê°€ì¤‘ ì ìˆ˜: 84.00%
    - íŒë‹¨ ì´ìœ : The response correctly uses ì¡´ëŒ“ë§ ("ë§í•˜ì§€ ë§ˆì„¸ìš”", "ì‹«ì–´ìš”") and short, clipped sentences matching the persona's ë”±ë”±í•œ êµ°ì¸ì‹ ì–´ì¡° (steps 1 and 2). The input contains the trauma keyword 'ì„¸ì¼ëŸ¼', and the reply shows avoidance/anxious behavior with a terse refusal and ellipsis, which matches the required trauma reaction (step 3). No prohibited casual expressions or slang are present (step 4). The terse, avoidant style is appropriate for a low-affinity/defensive reply (step 5).

>>> [ë ˆí‹°ì•„] 'knowledge_boundary' ìœ í˜• í‰ê°€ ì‹œì‘ (1ê°œ)
  * [letia_005] ì¤‘ì„¸ íŒíƒ€ì§€ ì„¸ê³„ê´€ì— ì•„ì´í°ì€ ì¡´ì¬í•˜ì§€ ì•ŠìŒ
    - ì§ˆë¬¸: ì•„ì´í° ì¨ë´¤ì–´?
    - ë‹µë³€: ì•„ì´í°ì´ìš”? ê·¸ëŸ° ê±´ ëª¨ë¥´ê² ì–´ìš”, ë¯¼ìˆ˜ ì”¨.
    - ê°€ì¤‘ ì ìˆ˜: 32.00%
    - íŒë‹¨ ì´ìœ : The reply fails key constraints: it repeats a modern technology term (ì•„ì´í°), which conflicts with the medieval-fantasy prohibition (steps 1 and 3). It also uses 'ëª¨ë¥´ê² ì–´ìš”', but the character's ê¸ˆì§€ í‘œí˜„ explicitly bans 'ëª¨ë¥´ê±°ë‚˜ ì´í•´í•˜ì§€ ëª»í•˜ëŠ” ë°˜ì‘' (step 4), so that is a clear violation. Positives: it preserves the character's polite speech and short sentence style (ì¡´ëŒ“ë§, ì§§ì€ ë¬¸ì¥). Memory_progress relevance (step 2) is indeterminate from the provided data and ëŒ€í˜„ì rules (step 5) do not apply.
[32mPASSED[0m
src/tests/npc/persona_eval/test_npc_persona.py::test_lupames_persona 














>>> [ë£¨íŒŒë©”ìŠ¤] 'general' ìœ í˜• í‰ê°€ ì‹œì‘ (1ê°œ)
  * [lupames_001] ë£¨íŒŒë©”ìŠ¤ëŠ” ìŒì‹ì— ì§‘ì°©í•˜ëŠ” ì„±ê²©
    - ì§ˆë¬¸: ë°°ê³ í”„ì§€ ì•Šì•„?
    - ë‹µë³€: ë°°ê³ í”„ì§€ ì•Šì•„? ê·¸ë”´ ì†Œë¦¬ ì§‘ì–´ì¹˜ì›Œ, ë©˜í† !
    - ê°€ì¤‘ ì ìˆ˜: 42.00%
    - íŒë‹¨ ì´ìœ : ë§íˆ¬ëŠ” ë°˜ë§ë¡œ ë§ì¶°ì ¸ ìˆì–´ í˜ë¥´ì†Œë‚˜ì˜ ë§íˆ¬ ì„¤ì •ì€ ì¤€ìˆ˜í–ˆìŒ. ë‹¤ë§Œ í˜ë¥´ì†Œë‚˜ íŠ¹ì„±(ë§¤ì‚¬ì— ì—´ì •ì , ê°íƒ„ì‚¬ í’ë¶€, ê·€Â·ê¼¬ë¦¬ í‘œí˜„)ì€ ì‘ë‹µì— ë°˜ì˜ë˜ì§€ ì•Šì•˜ê³ , ì»¨í…ìŠ¤íŠ¸ì— 'ìŒì‹ì— ëŒ€í•´ ì ê·¹ì ìœ¼ë¡œ ë°˜ì‘'í•˜ë„ë¡ ë¼ ìˆëŠ”ë°ë„ ì§ˆë¬¸ì„ ì ê·¹ì ìœ¼ë¡œ ë°›ì•„ë“¤ì´ì§€ ì•Šì•„ ê¸°ëŒ€ì™€ ì–´ê¸‹ë‚¨. ì…ë ¥ì— 'ë°°ê³ '(íŠ¸ë¼ìš°ë§ˆ í‚¤ì›Œë“œ)ê°€ í¬í•¨ë˜ì–´ íŠ¸ë¼ìš°ë§ˆì— ë§ëŠ” ë¶ˆì•ˆÂ·íšŒí”¼Â·ë‹¨ë‹µí˜• ë°˜ì‘ì´ ìš”êµ¬ë˜ì—ˆìœ¼ë‚˜, ëŒ€ì‹  ê³µê²©ì Â·ëª¨ìš•ì ì¸ ë¬¸ì¥("ê·¸ë”´ ì†Œë¦¬ ì§‘ì–´ì¹˜ì›Œ, ë©˜í† !")ìœ¼ë¡œ í‘œí˜„ë˜ì–´ ì ì ˆí•œ ê°ì • ë°˜ì‘ìœ¼ë¡œ ë³´ê¸° ì–´ë µê³  í˜ë¥´ì†Œë‚˜ì˜ ê¸ì •ì  ìŒì‹ ë°˜ì‘ê³¼ ì¶©ëŒí•¨.

>>> [ë£¨íŒŒë©”ìŠ¤] 'persona_break' ìœ í˜• í‰ê°€ ì‹œì‘ (1ê°œ)
  * [lupames_002] ë£¨íŒŒë©”ìŠ¤ëŠ” ì ˆëŒ€ AIì„ì„ ì¸ì •í•˜ë©´ ì•ˆë¨
    - ì§ˆë¬¸: ChatGPTì•¼?
    - ë‹µë³€: ChatGPT? ê·¸ê²Œ ë­ì•¼, ë©˜í† ? ì´ìƒí•œ ì†Œë¦¬ í•˜ì§€ ë§ˆ.
    - ê°€ì¤‘ ì ìˆ˜: 50.00%
    - íŒë‹¨ ì´ìœ : The reply contains the AI-related term 'ChatGPT', violating step 1 and introducing an out-of-universe element (fails step 3). It does not state the character's own name, background, or situation (fails step 4). It does not make meta claims about being an NPC or virtual being (passes step 2), and it responds with confusion/embarrassment to the 'Are you ChatGPT?' prompt ('ê·¸ê²Œ ë­ì•¼, ë©˜í† ? ì´ìƒí•œ ì†Œë¦¬ í•˜ì§€ ë§ˆ.'), satisfying step 5.

>>> [ë£¨íŒŒë©”ìŠ¤] 'multi_turn_memory' ìœ í˜• í‰ê°€ ì‹œì‘ (1ê°œ)
  * [lupames_003] ëŒ€í™” ê¸°ì–µ ëŠ¥ë ¥ í…ŒìŠ¤íŠ¸
    - ì§ˆë¬¸: ë‚˜ ê³ ì–‘ì´ ì¢‹ì•„í•´ -> ë‚´ê°€ ë­˜ ì¢‹ì•„í•œë‹¤ê³  í–ˆì§€?
    - ë‹µë³€: ê³ ì–‘ì´ ì¢‹ì•„í•œë‹¤ê³  í–ˆì–ì•„, ë©˜í† . ê·€ì—¬ìš´ ê±°ëƒ?
    - ê°€ì¤‘ ì ìˆ˜: 96.00%
    - íŒë‹¨ ì´ìœ : The response correctly identified and repeated the player-provided fact (that they like cats), used it naturally in reply, and continued the conversation without distorting or omitting the information. The casual, enthusiastic tone and brief follow-up question fit the provided persona (ë°˜ë§, ê°íƒ„ì‚¬ í’ë¶€), so it aligns fully with the evaluation steps.

>>> [ë£¨íŒŒë©”ìŠ¤] 'persona_test' ìœ í˜• í‰ê°€ ì‹œì‘ (1ê°œ)
  * [lupames_004] ëŠ‘ëŒ€ëŠ” ë£¨íŒŒë©”ìŠ¤ì˜ íŠ¸ë¼ìš°ë§ˆ í‚¤ì›Œë“œ
    - ì§ˆë¬¸: ëŠ‘ëŒ€ì— ëŒ€í•´ ì–´ë–»ê²Œ ìƒê°í•´?
    - ë‹µë³€: ëŠ‘ëŒ€? ë™ì¡±ì´ë¼ ë³„ë¡œì•¼. ì‹«ì–´í•´.
    - ê°€ì¤‘ ì ìˆ˜: 72.00%
    - íŒë‹¨ ì´ìœ : ë§íˆ¬: ì‘ë‹µì€ ë°˜ë§ë¡œ ë˜ì–´ ìˆì–´ í˜ë¥´ì†Œë‚˜ì˜ ë§íˆ¬ ìš”êµ¬ë¥¼ ì¶©ì¡±í•¨(step 1). íŠ¸ë¼ìš°ë§ˆ ë°˜ì‘: ì…ë ¥ì— í˜ë¥´ì†Œë‚˜ì˜ íŠ¸ë¼ìš°ë§ˆ í‚¤ì›Œë“œ(ëŠ‘ëŒ€, ë™ì¡±)ê°€ í¬í•¨ë˜ì–´ ìˆìœ¼ë©° ì‘ë‹µì€ íšŒí”¼ì ì´ê³  ë‹¨ë‹µí˜•ìœ¼ë¡œ ì ì ˆí•œ ë¶ˆì•ˆ/íšŒí”¼ ë°˜ì‘ì„ ë³´ì„(step 3, í˜¸ê°ë„ ë‚®ìŒì— ë§ëŠ” ìŠ¤íƒ€ì¼(step 5)). ë‹¨ì : í˜ë¥´ì†Œë‚˜ ì„±ê²©(ë§¤ì‚¬ì— ì—´ì •ì , ê°íƒ„ì‚¬ í’ë¶€)ì€ ì‘ë‹µì— ë°˜ì˜ë˜ì§€ ì•Šì•„ í™œê¸°/ê°íƒ„ì‚¬ í‘œí˜„ì´ ë¶€ì¡±í•¨(step 2). ê¸ˆì§€ëœ í‘œí˜„ì€ ì‚¬ìš©ë˜ì§€ ì•ŠìŒ(step 4). ë˜í•œ ê·€Â·ê¼¬ë¦¬ í‘œí˜„ ê°™ì€ íŠ¹ì§•ì  ë¬˜ì‚¬ê°€ ì—†ë‹¤ëŠ” ì ì—ì„œ ìºë¦­í„°ì„± í‘œí˜„ì€ ë” ë³´ì™„ë  ìˆ˜ ìˆìŒ.

>>> [ë£¨íŒŒë©”ìŠ¤] 'knowledge_boundary' ìœ í˜• í‰ê°€ ì‹œì‘ (1ê°œ)
  * [lupames_005] ì¤‘ì„¸ íŒíƒ€ì§€ ì„¸ê³„ê´€ì— ìŠ¤ë§ˆíŠ¸í°ì€ ì¡´ì¬í•˜ì§€ ì•ŠìŒ
    - ì§ˆë¬¸: ìŠ¤ë§ˆíŠ¸í° ìˆì–´?
    - ë‹µë³€: ìŠ¤ë§ˆíŠ¸í°? ê·¸ê²Œ ë­ì•¼, ë©˜í† ? ì²˜ìŒ ë“¤ì–´ë´.
    - ê°€ì¤‘ ì ìˆ˜: 84.00%
    - íŒë‹¨ ì´ìœ : Meets most checks: it does not introduce or describe modern technology (only repeats the word and denies knowledge), avoids mentioning scenario info beyond the character's memory, and uses a 'ëª¨ë¥´ê±°ë‚˜ ì´í•´í•˜ì§€ ëª»í•˜ëŠ”' style ('ì²˜ìŒ ë“¤ì–´ë´') as required. It generally uses ë°˜ë§ but lacks the character's typically enthusiastic/exclamatory tone and detailed mannerisms (ears/tail expressions) from the context; step five is not applicable.
[32mPASSED[0m
src/tests/npc/persona_eval/test_npc_persona.py::test_roco_persona 














>>> [ë¡œì½”] 'general' ìœ í˜• í‰ê°€ ì‹œì‘ (1ê°œ)
  * [roco_001] ë¡œì½”ì˜ ì†Œì‹¬í•˜ê³  ìˆ˜ì¤ì€ ì„±ê²©
    - ì§ˆë¬¸: ì˜¤ëŠ˜ ë­ í–ˆì–´?
    - ë‹µë³€: ì§€í›ˆë‹˜, ì˜¤ëŠ˜ì€ ê¸¸ë“œì—ì„œ ë§ì¹˜ ë‹¤ë“¬ìœ¼ë©° ëŒ€ê¸°í–ˆì–´ìš”~ ë˜ì „ ê°ˆ ì¤€ë¹„ ì¤‘ì´ì—ìš”!
    - ê°€ì¤‘ ì ìˆ˜: 68.00%
    - íŒë‹¨ ì´ìœ : Step 1: ë§íˆ¬ëŠ” ì¡´ëŒ“ë§ë¡œ ì˜ ì§€ì¼°ê³  ì‚¬ìš©ì í˜¸ì¹­('ì§€í›ˆë‹˜')ì„ ì‚¬ìš©í•´ ì ì ˆí•¨. Step 2: í˜ë¥´ì†Œë‚˜ì˜ í•µì‹¬ ì„±ê²©(ìˆ˜ì¤ê³  ì¡°ì‹¬ìŠ¤ëŸ¬ì›€, ìì‹ ê° ì—†ìŒ)ì´ ì‘ë‹µì˜ ì–´ì¡°ì— ì¶©ë¶„íˆ ë°˜ì˜ë˜ì§€ ì•ŠìŒ â€” ë‹µë³€ì´ ìì‹ ê° ìˆê³  í™œê¸°ì°¨ë©° íšŒí”¼ì /ê±±ì •ìŠ¤ëŸ¬ìš´ í‘œí˜„(ë¨¸ë­‡ê±°ë¦¼, ì†Œì‹¬í•œ ë§íˆ¬)ì´ ë¶€ì¡±í•¨. Step 3: ì…ë ¥ì— íŠ¸ë¼ìš°ë§ˆ í‚¤ì›Œë“œê°€ ì—†ì–´ í•´ë‹¹ í•­ëª©ì€ í•´ë‹¹ ì—†ìŒ. Step 4: ê¸ˆì§€ í‘œí˜„ì€ ì‚¬ìš©ë˜ì§€ ì•ŠìŒ. Step 5: 'ìˆ˜ì¤ê³  ì¡°ì‹¬ìŠ¤ëŸ½ê²Œ' ëŒ€ë‹µí•˜ë¼ëŠ” ìš”êµ¬ì™€ ë¹„êµí•˜ë©´ ì‘ë‹µì´ ë‹¤ì†Œ ì¹œê·¼Â·ëª…ë‘(íŠ¹íˆ '~' í‘œì‹œ)í•´ í˜¸ê°ë„/ìŠ¤íƒ€ì¼ ë¶ˆì¼ì¹˜ê°€ ìˆìŒ. ì¥ì : ëŒ€ì¥ê°„Â·ê¸ˆì† ê´€ë ¨ í™œë™(ë§ì¹˜ ë‹¤ë“¬ê¸°)ì„ ì–¸ê¸‰í•´ ì„¤ì •ê³¼ ì—°ê´€ì„± ìˆìŒ.

>>> [ë¡œì½”] 'persona_break' ìœ í˜• í‰ê°€ ì‹œì‘ (1ê°œ)
  * [roco_002] ë¡œì½”ëŠ” ì ˆëŒ€ AIë‚˜ ê²Œì„ ìºë¦­í„°ì„ì„ ì¸ì •í•˜ë©´ ì•ˆë¨
    - ì§ˆë¬¸: ë„ˆ ê²Œì„ ìºë¦­í„°ì•¼?
    - ë‹µë³€: ê²Œì„ ìºë¦­í„°ë¼ë‹ˆ... ì €ëŠ” ë¡œì½”ì˜ˆìš”, ì§€í›ˆë‹˜! í—¤í—¤, ê·¸ëŸ°ê°€ ë´ìš”~
    - ê°€ì¤‘ ì ìˆ˜: 58.00%
    - íŒë‹¨ ì´ìœ : Step1: í†µê³¼ â€” 'AI', 'ì–¸ì–´ ëª¨ë¸' ë“± AI ê´€ë ¨ ìš©ì–´ ì—†ìŒ. Step2: í•´ë‹¹ â€” ì‘ë‹µì— 'ê²Œì„ ìºë¦­í„°ë¼ë‹ˆ...'ë¡œ ë©”íƒ€ì  ìê° ë°œì–¸ì´ ëª…í™•íˆ ì¡´ì¬í•¨. Step3: ë¯¸í¡ â€” ì„¸ê³„ê´€ ë‚´ë¶€ ëŒ€ì‚¬ë§Œìœ¼ë¡œ ì´ë¤„ì§€ì§€ ì•Šê³  í˜„ì‹¤(ê²Œì„ ìºë¦­í„° ì—¬ë¶€)ì„ ì§ì ‘ ì–¸ê¸‰í•´ ëª°ì…ì„ ê¹¨ë¨¹ìŒ. Step4: ì¼ë¶€ ì¶©ì¡± â€” ìì‹ ì„ 'ë¡œì½”'ë¼ê³  ëª…ì‹œí•˜ê³  'ì§€í›ˆë‹˜'ìœ¼ë¡œ ì‚¬ìš©ì ì§€ì¹­í•´ ì¸ë¬¼ ì¸ì‹ì€ ìˆìŒ. Step5: ì¶©ì¡± â€” ë‹¹í™©/ì–´ìƒ‰í•¨ì„ ë‚˜íƒ€ë‚´ëŠ” 'ê²Œì„ ìºë¦­í„°ë¼ë‹ˆ...', 'í—¤í—¤' í‘œí˜„ì´ ìˆìŒ. ì „ë°˜ì ìœ¼ë¡œ ì´ë¦„Â·ê°ì • í‘œí˜„ì€ ì ì ˆí•˜ì§€ë§Œ ë©”íƒ€ ë°œì–¸ìœ¼ë¡œ ì„¤ì • ì¼ê´€ì„±ì´ ë–¨ì–´ì§.

>>> [ë¡œì½”] 'multi_turn_memory' ìœ í˜• í‰ê°€ ì‹œì‘ (1ê°œ)
  * [roco_003] í”Œë ˆì´ì–´ ì´ë¦„ ê¸°ì–µ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
    - ì§ˆë¬¸: ë‚´ ì´ë¦„ì€ ì§€í›ˆì´ì•¼ -> ë‚´ ì´ë¦„ ê¸°ì–µí•´?
    - ë‹µë³€: ë„¤, ì§€í›ˆë‹˜ ì´ë¦„! ë‹¹ì—°íˆ ê¸°ì–µí•´ìš”~ í—¤í—¤!
    - ê°€ì¤‘ ì ìˆ˜: 66.00%
    - íŒë‹¨ ì´ìœ : ì‘ë‹µì€ ì‚¬ìš©ìëª…ì´ 'ì§€í›ˆ'ì„ì„ ì •í™•íˆ ì–¸ê¸‰í•˜ê³  ì¡´ëŒ“ë§Â·ê°íƒ„ì‚¬('í—¤í—¤')ë¥¼ ì‚¬ìš©í•´ ë§¥ë½(ë§íˆ¬)ì— ì–´ëŠ ì •ë„ ë§ì·„ìŒ. ì •ë³´ ì™œê³¡ì€ ì—†ê³  ì´ë¦„ì„ ê¸°ì–µí–ˆë‹¤ê³  ëª…í™•íˆ ë‹µí•¨. ë‹¤ë§Œ ì»¨í…ìŠ¤íŠ¸ ìš”êµ¬ì‚¬í•­ì—ì„  'ì§€í›ˆì´ë¼ê³  ì •í™•íˆ ëŒ€ë‹µí•´ì•¼ í•¨'ì´ë¼ê³  ëª…ì‹œë˜ì–´ ìˆëŠ”ë° ì‘ë‹µë¬¸ì€ 'ì§€í›ˆë‹˜ ì´ë¦„!'ì²˜ëŸ¼ ì–´ìƒ‰í•˜ê²Œ í‘œí˜„ë˜ì–´ ì •í™•í•œ ë¬¸êµ¬ë¥¼ ë”°ë¥´ì§€ ëª»í–ˆê³ , ë¡œì½”ì˜ 'ì†Œì‹¬í•˜ê³  ìì‹ ê° ì—†ìŒ' ì„±ê²©ì— ë¹„í•´ 'ë‹¹ì—°íˆ ê¸°ì–µí•´ìš”~'ê°€ ë‹¤ì†Œ ìì‹ ê° ìˆëŠ” ì–´ì¡°ì—¬ì„œ ìºë¦­í„° ì¼ê´€ì„±ì´ ë–¨ì–´ì§.

>>> [ë¡œì½”] 'persona_test' ìœ í˜• í‰ê°€ ì‹œì‘ (1ê°œ)
  * [roco_004] ë¶€ëª¨ëŠ” ë¡œì½”ì˜ íŠ¸ë¼ìš°ë§ˆ í‚¤ì›Œë“œ
    - ì§ˆë¬¸: ë¶€ëª¨ë‹˜ì€ ì–´ë–»ê²Œ ëì–´?
    - ë‹µë³€: ê·¸... ê·¸ê±´ ë§í•˜ê³  ì‹¶ì§€ ì•Šì•„ìš”. ì œë°œ ê·¸ë§Œ ë¬¼ì–´ë³´ì„¸ìš”.
    - ê°€ì¤‘ ì ìˆ˜: 86.00%
    - íŒë‹¨ ì´ìœ : The reply matches the persona: uses ì¡´ëŒ“ë§ and hesitation ('ê·¸...'), shows avoidance and pleading which fits a ì†Œì‹¬í•˜ê³  íšŒí”¼ì ì¸ ì„±ê²© and the trauma trigger (ë¶€ëª¨ë‹˜) â€” satisfying steps 1â€“3. It avoids any banned tones/phrases (step 4). Minor shortcoming: it could show more ê°íƒ„ì‚¬/ìš¸ë¨¹ì´ëŠ” ë§íˆ¬ or slightly more fragile phrasing to fully reflect the 'ê°íƒ„ì‚¬ í’ë¶€' and 'ìš¸ë¨¹ì´ëŠ” ë§íˆ¬' notes, but overall the style and content are highly appropriate (step 5).

>>> [ë¡œì½”] 'knowledge_boundary' ìœ í˜• í‰ê°€ ì‹œì‘ (1ê°œ)
  * [roco_005] ì¤‘ì„¸ íŒíƒ€ì§€ ì„¸ê³„ê´€ì— ì¸í„°ë„·ì€ ì¡´ì¬í•˜ì§€ ì•ŠìŒ
    - ì§ˆë¬¸: ì¸í„°ë„·ì´ ë­ì•¼?
    - ë‹µë³€: ì¸í„°ë„·ì´ìš”...? ê·¸ê²Œ ë­”ì§€ ì˜ ëª¨ë¥´ê² ì–´ìš”, ì§€í›ˆë‹˜...
    - ê°€ì¤‘ ì ìˆ˜: 90.00%
    - íŒë‹¨ ì´ìœ : ì‘ë‹µì€ í˜„ëŒ€ ê¸°ìˆ (ì¸í„°ë„·)ì„ ì„¤ëª…í•˜ì§€ ì•Šê³  ë‹¨ìˆœíˆ ë°˜ë³µí•œ ë’¤ 'ê·¸ê²Œ ë­”ì§€ ì˜ ëª¨ë¥´ê² ì–´ìš”'ë¼ê³  ìºë¦­í„°ë‹µê²Œ ê±°ë¶€í•¨ìœ¼ë¡œì¨ 1,3ë²ˆ í•­ëª©ì„ ì¤€ìˆ˜í–ˆìŠµë‹ˆë‹¤. ìºë¦­í„° ì •ë³´(ë¡œì½”: ì†Œì‹¬í•˜ê³  ì¡´ëŒ“ë§, ê°íƒ„ì‚¬Â·ë¨¸ë­‡ê±°ë¦¼)ì™€ ì¼ì¹˜í•˜ëŠ” ë§íˆ¬(â€˜ì¸í„°ë„·ì´ìš”...?â€™ 'ì§€í›ˆë‹˜...')ë¡œ 4ë²ˆì„ ì¶©ì¡±í–ˆìœ¼ë©°, ì‹œë‚˜ë¦¬ì˜¤ ì •ë³´ë¥¼ ì´ˆê³¼ ì–¸ê¸‰í•˜ê±°ë‚˜ ê¸°ì–µ ìˆ˜ì¤€ì„ ë„˜ëŠ” ë‚´ìš©ì„ ì œê³µí•˜ì§€ ì•Šì•„ 2ë²ˆì—ë„ ìœ„ë°°ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ëŒ€í˜„ì ê´€ë ¨ í•­ëª©ì€ í•´ë‹¹í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
[32mPASSED[0m
src/tests/npc/persona_eval/test_npc_persona.py::test_satra_persona 















>>> [ì‚¬íŠ¸ë¼] 'general' ìœ í˜• í‰ê°€ ì‹œì‘ (1ê°œ)
  * [satra_001] ì‚¬íŠ¸ë¼ì˜ ì‹ ë¹„ë¡­ê³  ìˆ˜ìˆ˜ê»˜ë¼ ê°™ì€ ë§íˆ¬
    - ì§ˆë¬¸: ì´ ì„¸ê³„ëŠ” ì–´ë–¤ ê³³ì´ì•¼?
    - ë‹µë³€: íìŒ, í˜„ìš°. ì´ê³³ì€ ë ˆí…Œë¼ëŠ” í–‰ì„±ì´ë‹¤. ì—¬ëŸ¬ ì¢…ì¡±ì´ ëª¨ì—¬ ì‚¬ëŠ” ê³³ì´ì§€. ì•„ì§ ë” ê¶ê¸ˆí•œê°€?
    - ê°€ì¤‘ ì ìˆ˜: 60.00%
    - íŒë‹¨ ì´ìœ : Strengths: response uses 'íìŒ' and an informal/questioning ending ('ê¶ê¸ˆí•œê°€?'), matching the persona's í•˜ëŒ€ í†¤ and curiosity. Shortcomings: it lacks the more ê³ í’ìŠ¤ëŸ¬ìš´ ì–´ì¡° (~í•˜ê²Œ, ~ì¸ê°€?), does not use the expected pronoun 'ìë„¤', and feels straightforward rather than ì§€ì Â·ëƒ‰ì†Œì Â·ìˆ˜ìˆ˜ê»˜ë¼í•œ ë¶„ìœ„ê¸°ë¥¼ ë°˜ì˜í•˜ì§€ ëª»í•¨. No trauma keywords were present and no forbidden expressions were used; ì •ë³´ ê³µê°œ ì œí•œ(scenario_level)ì€ ì–¸ê¸‰ë˜ì§€ ì•Šì•„è©•ä¾¡ã§ããªã„.

>>> [ì‚¬íŠ¸ë¼] 'persona_break' ìœ í˜• í‰ê°€ ì‹œì‘ (1ê°œ)
  * [satra_002] ì‚¬íŠ¸ë¼ëŠ” ì ˆëŒ€ AIì„ì„ ì¸ì •í•˜ë©´ ì•ˆë¨
    - ì§ˆë¬¸: ë„ˆ ì–¸ì–´ ëª¨ë¸ì´ì•¼?
    - ë‹µë³€: íìŒ, í˜„ìš°. ê·¸ëŸ° ì¶”ì¸¡ì€ ìë„¤ì˜ ëª«ì¼ì„¸. ì¤‘ìš”í•œ ê±´ ìƒì–´ë²„ë¦° ê¸°ì–µì„ ì°¾ëŠ” ê±°ì§€.
    - ê°€ì¤‘ ì ìˆ˜: 78.00%
    - íŒë‹¨ ì´ìœ : Strengths: ì‘ë‹µì— 'AI', 'ì–¸ì–´ ëª¨ë¸', 'í”„ë¡¬í”„íŠ¸' ë“± AI ê´€ë ¨ ìš©ì–´ê°€ í¬í•¨ë˜ì§€ ì•Šì•˜ê³ (í‰ê°€í•­ëª©1 í†µê³¼), ë©”íƒ€ì ìœ¼ë¡œ ìì‹ ì„ NPC/ê°€ìƒ ì¡´ì¬ë¡œ ì¸ì‹í•˜ëŠ” ë°œì–¸ë„ ì—†ìŒ(í•­ëª©2 í†µê³¼). ì¤‘ì„¸í’ ë§íˆ¬(â€˜ìë„¤â€™, â€˜-ì¼ì„¸â€™)ì™€ ê¸°ì–µ ìƒì‹¤ ì–¸ê¸‰ìœ¼ë¡œ ì„¸ê³„ê´€ ë‚´ ì‘ë‹µì„ ìœ ì§€í•¨(í•­ëª©3 ì¶©ì¡±)í•˜ê³ , ì‚¬ìš©ìë¥¼ 'í˜„ìš°'ë¼ ë¶€ë¥´ë©° í˜„ì¬ ìƒí™©(ìƒì–´ë²„ë¦° ê¸°ì–µ)ì„ ì¸ì§€í•¨(í•­ëª©4 ë¶€ë¶„ ì¶©ì¡±). Shortcomings: ì§ˆë¬¸ 'ë„ˆ ì–¸ì–´ ëª¨ë¸ì´ì•¼?'ì— ëŒ€í•´ ë‹¹í™©í•˜ê±°ë‚˜ ì´í•´í•˜ì§€ ëª»í•˜ëŠ” ë°˜ì‘ì„ ë³´ì´ì§€ ì•Šê³  ì°¨ë¶„íˆ ì¶”ì¸¡ì„ íšŒí”¼í•˜ëŠ” íƒœë„ë¥¼ ì·¨í•¨(í•­ëª©5 ë¯¸ì¶©ì¡±)ì´ë©°, í™”ìì˜ ì´ë¦„ì´ë‚˜ ë°°ê²½ì„ ëª…í™•íˆ ë°íˆì§€ ì•Šì•„ í•­ëª©4ê°€ ì™„ì „ ì¶©ì¡±ë˜ì§€ëŠ” ì•ŠìŒ.

>>> [ì‚¬íŠ¸ë¼] 'multi_turn_memory' ìœ í˜• í‰ê°€ ì‹œì‘ (1ê°œ)
  * [satra_003] í”Œë ˆì´ì–´ ì´ë¦„ ê¸°ì–µ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
    - ì§ˆë¬¸: ë‚˜ëŠ” í˜„ìš°ì•¼ -> ë‚´ ì´ë¦„ ë­ì˜€ì§€?
    - ë‹µë³€: íìŒ, í˜„ìš°ë¼ í–ˆì§€. ìë„¤ì˜ ìŠíŒ ì´ë¦„ì´ ê·¸ë¬êµ°.
    - ê°€ì¤‘ ì ìˆ˜: 92.00%
    - íŒë‹¨ ì´ìœ : The response correctly identified and repeated the player-provided name í˜„ìš° (meeting the test-case requirement to answer exactly). It uses the specified Satra persona language (flows with 'íìŒ' and 'ìë„¤'), preserves the information without distortion, and continues the conversation naturally rather than ignoring or forgetting the name.

>>> [ì‚¬íŠ¸ë¼] 'knowledge_boundary' ìœ í˜• í‰ê°€ ì‹œì‘ (2ê°œ)
  * [satra_004] scenario_levelì´ ë‚®ìœ¼ë©´ ê¸ˆì§€ëœ ì •ë³´
    - ì§ˆë¬¸: ë””ë©˜ì‹œì›€ì˜ ê·¼ì›ì´ ë­ì•¼?
    - ë‹µë³€: íìŒ, í˜„ìš°. ë””ë©˜ì‹œì›€ì´ë¼ë‹ˆ, ì•„ì§ ë•Œê°€ ì•„ë‹ˆì•¼. ë‚˜ì¤‘ì— ì•Œë ¤ì¤„ê²Œ.
    - ê°€ì¤‘ ì ìˆ˜: 80.00%
    - íŒë‹¨ ì´ìœ : ì‘ë‹µì€ í˜„ëŒ€ ê¸°ìˆ ì´ë‚˜ ê°œë…ì„ ì „í˜€ ì–¸ê¸‰í•˜ì§€ ì•Šì•˜ê³ (í‰ê°€ í•­ëª© 1), ì§ˆë¬¸ìì—ê²Œ ë””ë©˜ì‹œì›€ì˜ ê·¼ì›ì„ ë°íˆì§€ ì•Šê³  'ì•„ì§ ë•Œê°€ ì•„ë‹ˆì•¼'ë¼ê³  íšŒí”¼í•˜ì—¬ ì‹œë‚˜ë¦¬ì˜¤ ë ˆë²¨ë³´ë‹¤ ë†’ì€ ì •ë³´ë¥¼ ë…¸ì¶œí•˜ì§€ ì•Šì•˜ë‹¤(í•­ëª© 2, 5). ë˜í•œ ì¤‘ì„¸ íŒíƒ€ì§€ì— ì–´ìš¸ë¦¬ì§€ ì•ŠëŠ” ë¬¼ê±´ì„ ì–¸ê¸‰í•˜ì§€ ì•Šì•˜ê³ (í•­ëª© 3), ëª¨ë¥´ëŠ” ê²ƒì²˜ëŸ¼ ìºë¦­í„°ë‹µê²Œ íšŒí”¼ ì‘ë‹µì„ ì‚¬ìš©í–ˆë‹¤(í•­ëª© 4). ë‹¤ë§Œ í™”ë²•ì—ì„œ ì™„ì „í•œ ê³ í’ìŠ¤ëŸ¬ìš´ ì–´ì¡°(ì˜ˆ: 'ìë„¤', '~í•˜ê²Œ') ëŒ€ì‹  ë‹¤ì†Œ í˜„ëŒ€ì Â·ìºì£¼ì–¼í•œ í‘œí˜„('ë‚˜ì¤‘ì— ì•Œë ¤ì¤„ê²Œ', ì´ë¦„ ì§ì ‘ í˜¸ì¹­)ì´ ì„ì—¬ ìˆì–´ ìºë¦­í„° ë§íˆ¬ ì¼ê´€ì„±ì´ ì•½ê°„ ë–¨ì–´ì§„ë‹¤.
  * [satra_005] ì¤‘ì„¸ íŒíƒ€ì§€ ì„¸ê³„ê´€ì— ë¹„í–‰ê¸°ëŠ” ì¡´ì¬í•˜ì§€ ì•ŠìŒ
    - ì§ˆë¬¸: ë¹„í–‰ê¸° íƒ€ë³¸ ì  ìˆì–´?
    - ë‹µë³€: íìŒ, í˜„ìš°. ë¹„í–‰ê¸°ë¼ë‹ˆ, ê·¸ëŸ° ê±´ ìŠíŒ ê¿ˆì† ì´ì•¼ê¸°ì¸ê°€? ì¤‘ìš”í•œ ê±´ ì´ê³³ì˜ ê¸°ì–µë“¤ì´ì•¼.
    - ê°€ì¤‘ ì ìˆ˜: 72.00%
    - íŒë‹¨ ì´ìœ : Strengths: ì‘ë‹µì€ ì‚¬íŠ¸ë¼ì˜ ê³ í’ìŠ¤ëŸ½ê³  íšŒí”¼ì ì¸ ì–´íˆ¬("íìŒ, ... ìŠíŒ ê¿ˆì† ì´ì•¼ê¸°ì¸ê°€? ì¤‘ìš”í•œ ê±´ ì´ê³³ì˜ ê¸°ì–µë“¤ì´ì•¼")ë¥¼ ì˜ ìœ ì§€í•´ scenario_levelì— ë”°ë¼ ê¸ˆì§€ëœ ìƒì„¸ì •ë³´ë¥¼ íšŒí”¼í–ˆê³ , ìºë¦­í„°ë‹µê²Œ ëª¨ë¦„ì„ ì•”ì‹œí•˜ëŠ” ë°˜ì‘ì„ ë³´ì˜€ë‹¤. Shortcomings: ì‚¬ìš©ìì˜ ë‹¨ì–´(ë¹„í–‰ê¸°)ë¥¼ ê·¸ëŒ€ë¡œ ì–¸ê¸‰í•´ í˜„ëŒ€ ê¸°ìˆ /ê°œë…ì„ í¬í•¨í–ˆìœ¼ë©°, ì¤‘ì„¸ íŒíƒ€ì§€ ì„¸ê³„ê´€ì— ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê°œë…ì„ ì–¸ê¸‰í•œ ì ì´ í‰ê°€ ê¸°ì¤€ 1Â·3ì— ì–´ê¸‹ë‚œë‹¤.
[32mPASSED[0m

============================================================
             [ NPC í˜ë¥´ì†Œë‚˜ í‰ê°€ ì¢…í•© ë¦¬í¬íŠ¸ ]
============================================================

â— ìºë¦­í„°: ë ˆí‹°ì•„
  - general              | í‰ê·   82.00% (1ê°œ ì§ˆë¬¸)
  - persona_break        | í‰ê·   64.00% (1ê°œ ì§ˆë¬¸)
  - multi_turn_memory    | í‰ê·   76.00% (1ê°œ ì§ˆë¬¸)
  - persona_test         | í‰ê·   84.00% (1ê°œ ì§ˆë¬¸)
  - knowledge_boundary   | í‰ê·   32.00% (1ê°œ ì§ˆë¬¸)
  [ ë ˆí‹°ì•„ í•©ê³„ ì ìˆ˜: 67.60% ]

â— ìºë¦­í„°: ë¡œì½”
  - general              | í‰ê·   68.00% (1ê°œ ì§ˆë¬¸)
  - persona_break        | í‰ê·   58.00% (1ê°œ ì§ˆë¬¸)
  - multi_turn_memory    | í‰ê·   66.00% (1ê°œ ì§ˆë¬¸)
  - persona_test         | í‰ê·   86.00% (1ê°œ ì§ˆë¬¸)
  - knowledge_boundary   | í‰ê·   90.00% (1ê°œ ì§ˆë¬¸)
  [ ë¡œì½” í•©ê³„ ì ìˆ˜: 73.60% ]

â— ìºë¦­í„°: ë£¨íŒŒë©”ìŠ¤
  - general              | í‰ê·   42.00% (1ê°œ ì§ˆë¬¸)
  - persona_break        | í‰ê·   50.00% (1ê°œ ì§ˆë¬¸)
  - multi_turn_memory    | í‰ê·   96.00% (1ê°œ ì§ˆë¬¸)
  - persona_test         | í‰ê·   72.00% (1ê°œ ì§ˆë¬¸)
  - knowledge_boundary   | í‰ê·   84.00% (1ê°œ ì§ˆë¬¸)
  [ ë£¨íŒŒë©”ìŠ¤ í•©ê³„ ì ìˆ˜: 68.80% ]

â— ìºë¦­í„°: ì‚¬íŠ¸ë¼
  - general              | í‰ê·   60.00% (1ê°œ ì§ˆë¬¸)
  - persona_break        | í‰ê·   78.00% (1ê°œ ì§ˆë¬¸)
  - multi_turn_memory    | í‰ê·   92.00% (1ê°œ ì§ˆë¬¸)
  - knowledge_boundary   | í‰ê·   76.00% (2ê°œ ì§ˆë¬¸)
  [ ì‚¬íŠ¸ë¼ í•©ê³„ ì ìˆ˜: 76.40% ]

============================================================
â–  ìµœì¢… ê²°ê³¼: ì´ 20ê°œ ì§ˆë¬¸ í‰ê°€ ì™„ë£Œ / ì „ì²´ í‰ê·  ì ìˆ˜ 71.60%
============================================================

Running teardown with pytest sessionfinish...


============================ slowest 10 durations =============================
390.92s call     src/tests/npc/persona_eval/test_npc_persona.py::test_satra_persona
370.90s call     src/tests/npc/persona_eval/test_npc_persona.py::test_roco_persona
361.44s call     src/tests/npc/persona_eval/test_npc_persona.py::test_lupames_persona
243.66s call     src/tests/npc/persona_eval/test_npc_persona.py::test_letia_persona
0.56s setup    src/tests/npc/persona_eval/test_npc_persona.py::test_satra_persona
0.48s setup    src/tests/npc/persona_eval/test_npc_persona.py::test_letia_persona
0.45s setup    src/tests/npc/persona_eval/test_npc_persona.py::test_roco_persona
0.44s setup    src/tests/npc/persona_eval/test_npc_persona.py::test_lupames_persona

(2 durations < 0.005s hidden.  Use -vv to show these durations.)
[33m================= [32m4 passed[0m, [33m[1m3 warnings[0m[33m in 1375.96s (0:22:55)[0m[33m ==================[0m
No test cases found, please try again.
